index.html
- Color scheme and graphics
- Token colors high contrast for important tokens, low contrast for others
- group languages (new, medium, old? common, obscure? by name?)
- allow selection of wide FORTRAN and wide COBOL
- omit detect results for zero confidence
 - only when no languages selected?
 - option on UI?
+ one language drop-down; three buttons (tokenize, confidence, statistics)
- modern languages include D, Lua, Scala, TypeScript (base on language year?)
- improve conversion of C++, C#, F# names
- port run_detect_test to JavaScript; don't call /detect; remove /detect

README
- don't refer to /detect
- include /statistics, /confidence, /detab, /unwrap

main
- /tokens parameter for block comment size limit
- /statistics parameter for block comment size limit
- /confidence parameter for block comment size limit
- /detect parameter for block comment size limit
- /confidence_and_statistics return both blocks
- limit text to 4K; allow larger size as option including all text
- consolidate options for --detect, --tokens, --confidence
- unwrap() returns original code if language not specified
- all services - return HTTP error if language specified and not recognized
- separate languages by comma not space ('detect x' test scripts too)
- tiebreak falls back to simpler language, not older language
+ options to enable tie-breaker adjustments (num keywords, num tokens)
+ respond 'rigoletto' for one-character input
+ respond 'silent dust' for zero data
+ respond 'bleach' for all whitespace
+ respond something else for less that 2 printable tokens
+ respond 'undetermined' if too many (how many) examiners report 1.0
+ respond 'undetermined' if all examiners report low values (how low?)

TokenBuilders
- remove result
- return direct value

- PrefixedStringTokenBuilder: options for quote stuffing, escaped quotes
- IntegerTokenBuilder (et al): don't allow underscore as final character
- StringTokenBuilder: split newline into MultilineStringTokenBuilder
- BlockTokenBuilder: parameter for case sensitive, use in checks
- BlockTokenBuilder: attempt() checks for valid chars in body
- BlockTokenBuilder: attempt() checks for start string match
- SlashStarCommentTokenBuilder: replace with BlockTokenBuilder

examiners for:
 ZZ, Elm, Mint, Futhark, Haxe, Pharo, Nim, OCaml, Racket,
 Erlang, SmallTalk, Chaos, Occam,
 HTML with PHP, plain PHP,
 Raku, Crystal (Ruby), Wolfram, Expresso,
 MS-DOS batch, PowerShell, bash,
 J (APL), K (APL), Groovy, ABAP, Scratch, Logo,
 True Basic, Small Basic, Modula-2, Oberon, Scheme, AspectJ,
 Focal, Dibol, dBase IV and higher, Clipper, FoxBase, FoxPro,
 DataFlex (1982), SAS,
 JCL, RPG, Lindo, SPSS, Forth, GPSS, CSMP,
 8080 ASM, Z-80 ASM, Z-80 Macro ASM, 8086 ASM,
 Rbase, Clarion, Rebol, Condor,
 6800 ASM, PDP-11 ASM, PDP-8 ASM,
 IBM 360 ASM, IBM 370 ASM, IBM 390 ASM, IBM series Z ASM,
 LISP, Clojure, algol,
 Pascal-S, BASIC-E,
 Autocode, IPL, Flow-matic, COMTRAN, FACT, NELIAC, Simula,
 SNOBOL, Spitbol, CPL, BCPL, JOSS, MUMPS,
 ALPHARD, ALTRAN, Argus, Automath, BCPL, COMTRAN, CPL, FLOW-MATIC,
 HOPE,
 Hypercard, ISWIM, JOVIAL, MacSyma, Mesa, Miranda, Multics Shell,
 PLANNER, SMP, Sketchpad,
 BASIC-PLUS, BASIC-PLUS-2, Amiga BASIC, QuickBasic, QBASIC,
 Turbo BASIC, FreeBasic, MSX BASIC, Pure Basic,
 VBA, MDL (Zork on GitHub)

Examiner
- qualifiers group for private/public/protected (unsigned/signed and const/static)
- identifier in front of open parens is a function (not BASIC, FORTRAN, COBOL)
- combine 'tabs_to_spaces()' with function in main.py
- re-think the unwrap() function (it duplicates others)

NestedCommentTokenBuilder
- limit comment size (1K? 2K? param?)

Environment

Build

Test scripts
- use variable for action
- use variable for language
- combine test script for tokens, statistics, confidence, confidence errors

main.py:decode_bytes() and run_detect_test.py
- detect Latin-1 encoding

run_detect_test.py
- handle BOM

Deployment
- Python 3.7
- Remove test files
- Daily test of azure web site (/languages, /tokens, /detect)
- New version of Python PIP

Python client (codestat_CLI.py)
- Collect files (names from command line)
- For each file, send file and collect statistics response
- Consolidate statistics responses
- Create report (LOC, SLOC, complexity; total by source code; grand total)

examiners
+ ? make a binary operator (not unary) at the beginning a line comment indicator
  (doesn't work for C, C++, C#, obj-c, Java, Pascal files which start with + or -)
  (doesn't work for ruby files which start with regexes /)
  ? apply in a second phase

generic
+ double dollar signs as block for Tex (Rmd)
+ comment types (cobol or fortran style)

generic ASM
- allow [:,] as ending for label
- allow space in args, comment only after marker (PDP-11)
- first item is label if colon, opcode if no colon (PDP-11, 8080, 8086)
- values on the left (listing) (xxxx xx xx xx or ooo.ooo ooo ooo ooo)
- number: $xxxx nnnQ nnnnnnA #xxxx &xxxx $
- operator =
- newlines always important

specific ASM
- opcodes (list for processor)
- 8086 has multi mnemonic opcodes such as REPNZ SCAS BYTE PTR ES:[EDI]

ASM-PDP-8
- label terminate ,
- line comment /
- space in args
- line terminator ; (allow multiple instructions per line)
- end of code $
- second field may be an octal number or an identifier (with or without label)

ASM-PDP-11
- label terminate :
- space in args
- opcodes

ASM-360
- single quote (part of '&)
- registers r0 through r15
- opcodes
  'A', 'AD', 'ADR', 'AE', 'AER', 'AH', 'AL', 'ALR', 'AP', 'AR',
  'AU', 'AUR', 'AW', 'AWR', 'AXR',
  'B', 'BAL', 'BALR', 'BAS', 'BASR', 'BC', 'BCR', 'BCT', 'BCTR',
  'BE', 'BH', 'BL', 'BM', 'BNE', 'BNH', 'BNL', 'BNM', 'BNP', 'BNO', 'BNZ', 'BO',
  'BP', 'BR', 'BXH', 'BXLE', 'BZ',
  'C', 'CD', 'CDR', 'CE', 'CER', 'CH', 'CL', 'CLC', 'CLI', 'CLR', 'CP',
  'CR', 'CVB', 'CVD',
  'D', 'DD', 'DDR', 'DE', 'DER', 'DIAGNOSE', 'DP', 'DR',
  'ED', 'EDMK', 'EX',
  'HDR', 'HER', 'HIO',
  'IC', 'ISK',
  'L',
  'LA', 'LCR', 'LCDR', 'LCER', 'LD', 'LDR',
  'LE', 'LER', 'LH', 'LM',
  'LNDR', 'LNER', 'LNR',
  'LPDR', 'LPER', 'LPR', 'LPSW', 'LR', 'LRDR', 'LRER',
  'LTDR', 'LTER', 'LTR',
  'M', 'MD', 'MDR', 'ME', 'MER', 'MH', 'MP', 'MR', 'MVC', 'MVI',
  'MVN', 'MVO', 'MVZ', 'MXD', 'MXDR', 'MXR',
  'N', 'NC', 'NI', 'NOP', 'NOPR', 'NR',
  'O', 'OC', 'OI', 'OR',
  'PACK',
  'RDD',
  'S', 'SD', 'SDR', 'SE', 'SER', 'SH', 'SIO',
  'SL', 'SLA', 'SLDA', 'SLDL', 'SLL', 'SLR',
  'SP', 'SPM',
  'SR', 'SRA', 'SRDL', 'SRP',
  'SSK', 'SSM', 'SRDA', 'SRL',
  'STC', 'STD', 'STE', 'STH', 'STM', 'SU', 'SUR', 'SVC', 'SW', 'SWR', 'SXR',
  'TCH', 'TIO', 'TM', 'TR', 'TRT', 'TS',
  'UNPK', 'UNPKU',
  'WRD',
  'X', 'XC', 'XI', 'XR',
  'ZAP',

ASM-370
- opcodes
  'BRXH', 'BRXLE',
  'CLCL',
  'HDV',
  'LAM', 'LEDR',
  'MS', 'MVCL',
  'RIO',
  'SIOF', 'STAM',
  'VA', 'VACD', 'VACDR', 'VACE', 'VACER',
  'VAD', 'VADQ', 'VADR', 'VADS',
  'VAE', 'VAEQ', 'VAER', 'VAES',
  'VAQ', 'VAR', 'VAS',
  'VC', 'VCD', 'VCDQ', 'VCDR', 'VCDS',
  'VCE', 'VCEQ', 'VCER', 'VCES',
  'VCQ', 'VCR', 'VCS',
  'VDD', 'VDDQ', 'VDDR', 'VDDS',
  'VDE', 'VDEQ', 'VDER', 'VDES',
  'VL', 'VLCDR', 'VLCER', 'VLCR',
  'VLD', 'VLDQ', 'VLDR', 'VLEQ', 'VLH', 'VLINT',
  'VLM', 'VLMD', 'VLMDQ', 'VLMDR', 'VLMEQ', 'VLMQ', 'VLMR',
  'VLNDR', 'VLNER', 'VLNR', 'VLPDR', 'VLPER', 'VLPR',
  'VLQ', 'VLR', 'VLY', 'VLYD', 'VLZDR', 'VLZR',
  'VM', 'VMAD', 'VMADQ', 'VMADS', 'VMAE', 'VMAEQ', 'VMAES',
  'VMCD', 'VMCE', 'VMCER',
  'VMD', 'VMDQ', 'VMDR', 'VMDS',
  'VME', 'VMEQ', 'VMER', 'VMES',
  'VMQ', 'VMR', 'VMS', 'VMSD', 'VMSDQ', 'VMSDS', 'VMSE', 'VMSEQ', 'VMSES',
  'VN', 'VNQ', 'VNR', 'VNS',
  'VO', 'VOQ', 'VOR', 'VOS',
  'VS', 'VSD', 'VSDQ', 'VSDR', 'VSDS',
  'VSE', 'VSEQ', 'VSER', 'VSES',
  'VSQD', 'VSQDR', 'VSQE', 'VSQER',
  'VSQ', 'VSR', 'VSS', 'VST', 'VSTD', 'VSTE', 'VSTH', 'VSTKD', 'VSTMD',
  'VTAD', 'VTAE', 'VTSD', 'VTSE',
  'VX', 'VXQ', 'VXR', 'VXS',
  'VMXSE', 'VMNSE', 'VMXAE', 'VLELE', 'VSELE', 'VMXDS', 'VMNSD', 'VMXAD',
  'VLELD', 'VXELD', 'VSPSD', 'VAPSD', 'VTVM', 'VCVM', 'VCZVM', 'VCOVM',
  'VXVC', 'VXVMM', 'VRRS', 'VRSVC', 'VRSV', 'VLVM', 'VLCVM', 'VSTVM', 'VNVM',
  'VOVM', 'VXVM', ' VSRSV', 'VMRSV', 'VSRRS', 'VLVCA', 'VRCL', 'VSVMM',
  'VLVXA', 'VSVTP', 'VACSV', 'VACRS',
  'STNSM', 'SOTSM', 'SIOP', 'MC', 'LRA', 'CONCS', 'DISCS', 'STIDP', 'SCK',
  'SPT', 'STPT', 'SPKA', 'IPK', 'PTLB', 'SPX', STPX', 'STAP', 'RRB',
  'PC', 'SAC', 'IPTE',
  'IVSK', 'IAC', 'SSAR', 'EPAR', 'ESAR', 'PT', 'ISKE', 'RRBE', 'SSKE', 'TB',
  'STCTL', 'LCTL', 'CS', 'CDS', 'CLM', 'STCM', 'ICM',
  'MVCK', 'MVCP', 'MVCS', 'VLI', 'VSTI', 'VLID', 'VSTID', 'VSRL',
  'VSLL', 'VLBIX', 'LASP', 'TPROT', 'STRAG',
  'MVCSK', 'MVCDK', 'DPFET', 'MVHHI', 'MVGHI', 'MVHI', 'CHHSI', 'CLHHSI',
  'CGHSI', 'CLGHSI', 'CHSI', 'CLFHSI', 'TBEGIN', 'TBEGINC', 'MVCIN', 'UNPKA',

ASM-390
- opcodes
  'BASSM', 'BSG', 'BSM',
  'CLRCH', 'CMPS', 'CLRIO', 'CMSG',
  'LAE', 'LXDR',
  'MDE',
  'PFPO', 'PR', 'PTFF',
  'SAM24', 'SAM31', 'SCKPF',
  'TAM', 'TMPS', 'TMSG', 'TRACE', 'TRAP2',
  'TMH',' TMLH', 'TML', 'TMLL', 'TMHH', 'TMHL',
  'BRC', 'BRAS', 'BRCT', 'BRCTG',
  'LHI', 'LGHI',
  'AHI', 'AGHI',
  'MHI', 'MGHI',
  'CHI', 'CGHI',
  'MVCLE', 'CLCLE',
  'UPT',
  'SIE', 'PCF', 'CFC', 'DEP', 'DCTP', 'MAD', 'MUN', 'STCAP', 'SERVC',
  'IPM', 'DXR', 'PGIN', 'PGOUT', 'CSCH', 'HSCH', 'MSCH', 'SSCH', 'STSCH', 'TSCH',
  'TPI', 'SAL', 'RSCH', 'STCRW', 'STCPS', 'RCHP', 'SCHM', 'STZP', 'SZP',
  'TPZI', 'BAKR', 'CKSM', 'MADS', 'SQDR', 'STURA', 'MSTA', 'PALB', 'EREG',
  'ESTA', 'LURA', 'TAR', 'SQDR', 'SAR', 'EAR', 'CSP', 'MSR', 'MVPG', 'MVST',
  'CUSE', 'BSG', 'CLST', 'SRST', 'XSCH', 'RP', 'STCKE', 'SACF', 'STSI',
  'SRNM', 'STFPC', 'LFPC', 'TRE', 'CUUTF', 'CUTFU', 'STFL', 'LPSWE',
  'TRAP4', 'LPEBR', 'LNEBR', 'LTEBR', 'LCEBR', 'LDEBR', 'LXDBR', 'LDEBR',
  'MXDBR', 'KEBR', 'CEBR', 'AEBR', 'SEBR', 'MDEBR', 'DEBR', 'MAEBR',
  'MSEBR', 'LPDBR', 'LCDBR', 'SQEBR', 'MEEBR', 'KDBR', 'CDBR', 'ADBR',
  'MDBR', 'DDBR', 'SDBR', 'LDER', 'LXDR', 'MAER', 'MSER', 'SQXR', 'MEER',
  'MADR', 'MSDR', 'LPXBR', 'LNXBR', 'LTXBR', 'LCXBR', 'LCXBR', 'LEDBR',
  'LDXBR', 'LEXBR', 'FIXBR', 'KXBR', 'CXBR', 'AXBR', 'SXBR', 'MXBR', 'DXBR',
  'TBEDR', 'TBDR', 'DIEBR', 'FIEBR', 'THDER', 'DIDBR', 'FIDBR', 'LPXR',
  'LNXR', 'LTXR', 'LCXR', 'LXR', 'LEXR', 'FIXR', 'CXR', 'LZER', 'LZDR',
  'LZXR', 'FIER', 'FIDR', 'SFPC', 'EFPC', 'CEFBR', 'CDFBR', 'CXFBR', 'CEGBR',
  'CDGBR', 'CXGBR', 'CGDBR', 'CGEBR', 'CGXBR',
  'CEFR', 'CDFR', CXFR', CFDR', 'CFXR', 'CEGR', 'CDGR', 'CXGR', 'CGER', 'CGDR', 'CGXR',
  'LMC', 'LPGR', 'LNGR', 'LTGR', 'LCGR', 'LGC', 'LURAG', 'AGR', 'SGR',
  'ALGR', 'SLGR', 'MSGR', 'DSGR', 'EREGG', 'LRVGR', 'LPGFR', 'LNGFR',
  'LTGFR', 'LCGFR', 'LGFR', 'LLGFR', 'LLGTR', 'AGFR', 'SGFR', 'ALGFR',
  'SLGFR', 'MSGFR', 'DSGFR', 'LRVR', 'CGR', 'CLGR', 'STURG', 'CGFR',
  'CLGFR', 'BCTGR', 'NGR', 'OGR', 'XGR', 'MLGR', 'DLGR', 'ALCGR', 'SLBGR',
  'EPSW', 'TRTT', 'TRTO', 'TROT', 'TROO', 'MLR', 'DLR', 'ALCR', 'SLBR', 'ESEA',
  'LARL', 'LGFI', 'BRCL', 'BRASL', 'XIHF', 'XILF', 'IIHF', 'IILF',
  'NIHF', 'NILF', 'OIHF', 'OILF', 'LLIHF', 'LLILF', 'LLHRL', 'LGHRL',
  'LHRL', 'AGFI', 'AFI', 'ALGFI', 'ALFI', 'CGFI', 'CFI', 'LLGFRL', 'STRL',
  'EXRL', 'PFDRL', 'CGHRL','CHRL', 'CLGHRL', 'CLHRL', 'CGRL', 'CLGRL',
  'CRL', 'CLGFRL', 'CLRL', 'MVCOS', 'ECTG', 'CSST', 'PKU',
  'LRAG', 'LG', 'AG', 'SG', 'ALG', 'SLG', 'MSG', 'DSG', 'CVBG',
  'LRVG', 'LGF', 'LGH', 'LLGF', 'LLGT', 'AGF', 'SGF', 'ALGF', 'SLGF',
  'MSGF', 'DSGF', 'LRV', 'LRVH', 'CG', 'CLG', 'STG', 'CVDG', 'STRVG',
  'CGF', 'CLGF', 'STRV', 'STRVH', 'BCTG', 'NG', 'OG', 'XG', 'MLG',
  'DLG', 'ALCG', 'SLBG', 'STPQ', 'LPQ', 'LLGC', 'LLGH', 'ML', 'DL',
  'ALC', 'SLB', 'PKA',
  'DIL', 'BDIL', 'ANUM', 'COMP', 'MCPU', 'MIO', 'BIFLAG', 'MULDIV',
  'LMG', 'SRAG', 'SLAG', 'SRLG', 'SLLG', 'TRACG', 'RLLG', 'RLL',
  'CLMH', 'CLMY', 'CLT', 'CLTH', 'CLTL', 'CLTNE', 'CLTE', 'CLTNL',
  'CLTNH', 'STMG', 'STCTG', 'STMH', 'STCMH', 'LCTLG', 'CSG', 'CDSG',
  'BXHG', 'BXLEG', 'ICMH', 'MVCLU', 'CLCLU', 'LMH', 'LMY', 'TP',
  'SRAK', 'SLAK', 'SRLK', 'SRLK', 'LOCG', 'BRXHG', 'BRXLG', 'LDEB',
  'LXDB', 'LXEB', 'MXDB', 'KEB', 'CEB', 'AEB', 'SEB', 'MDEB', 'DEB',
  'MAEB', 'MSEB', 'TCEB', 'TCDB', 'TCXB', 'SQEB', 'SQDB', 'MEEB',
  'KDB', 'CDB', 'ADB', 'SDB', 'MDB', 'DDB', 'MADB', 'MSDB', 'LDE',
  'LXD', 'LXE', 'SQE', 'SQD', 'MEE', 'PLO', 'LMD',

ASM-series-z
  'IIHH', 'IIHL', 'IILH', 'IILL',
  'LLIHH', 'LLIHL', 'LLILH', 'LLILL',
  'NIHH', 'NIHL', 'NILH', 'NILL',
  'OIHH', 'OIHL', 'OILH', 'OILL',
  'SAM64',

ASM-6502
- registers A X Y PC SP SR

ASM-6800
- registers A B X PC SP SR
- opcodes
  'ABA', 'ADC', 'ADD', 'AND', 'ASL', 'ASR',
  'BCC', 'BCS', 'BEQ', 'BGE', 'BGT', 'BHI', 'BIT', 'BLE', 'BLS', 'BLT', 'BMI', 'BNE', 'BPL', 'BRA', 'BSR', 'BVC', 'BVS',
  'CBA', 'CLC', 'CLI', 'CLR', 'CLV', 'CMP', 'COM', 'CPX',
  'DAA', 'DEC', 'DES', 'DEX',
  'EOR',
  'INC', 'INS', 'INX',
  'JMP', 'JSR',
  'LDA', 'LDS', 'LDX', 'LSR',
  'NEG', 'NOP',
  'ORA',
  'PSH', 'PUL',
  'ROL', 'ROR', 'RTI', 'RTS',
  'SBA', 'SBC', 'SEC', 'SEI', 'SEV', 'STA', 'STS', 'STX', 'SUB', 'SWI',
  'TAB', 'TAP', 'TBA', 'TPA', 'TST', 'TSX', 'TXS',
  'WAI',

ASM-8080
- registers A, B, C, D, E, H, L, PSW, F
- opcodes
  'ACI', 'ADC', 'ADD', 'ADI', 'ANA', 'ANI',
  'CALL', 'CC', 'CM', 'CMA', 'CMC', 'CMP', 'CNC', 'CNZ', 'CP', 'CPE', 'CPI', 'CPO', 'CZ',
  'DAA', 'DAD', 'DCR', 'DCX', 'DI',
  'EI',
  'HLT',
  'IN', 'INR', 'INX',
  'JC', 'JM', 'JMP', 'JNC', 'JNZ', 'JP', 'JPE', 'JPO', 'JZ',
  'LDAX', 'LHLD', 'LXI',
  'MOV', 'MVI',
  'NOP',
  'ORA', 'ORI', 'OUT',
  'PCHL', 'POP', 'PUSH',
  'RAL', 'RAR', 'RC', 'RIM', 'RLC', 'RET', 'RM', 'RNC', 'RNZ', 'RP', 'RPE', 'RPO', 'RRC', 'RST', 'RZ	',
  'SBB', 'SBI', 'SHLD', 'SIM', 'SPHL', 'STA', 'STC', 'STAX', 'SUB', 'SUI',
  'XCHG', 'XRA', 'XRI', 'XTHL',

ASM-8086 (16-bit, not x86)
- registers
  AL AH BL BH CL CH DL DH AX BX CX DX CS DS SS ES IP SI DI BP SP
- 8086 opcodes
  'AAA', 'AAD', 'AAM', 'AAS', 'ADC', 'ADD', 'AND',
  'CALL', 'CBW', 'CLC', 'CLD', 'CLI', 'CMC', 'CMP', 'CMPS', 'CMPSB', 'CMPW', 'CMPXCHG', 'CWD',
  'DAA', 'DAS', 'DEC', 'DIV',
  'ESC',
  'FWAIT',
  'F2XM1', 'FABS', 'FADD', 'FADDP', 'FBLD', 'FBSTP', 'FCHS', 'FCLEX', 'FCOM', 'FCOMP',
  'FCOMPP', 'FCOS', 'FDECSTP', 'FDISI', 'FDIV', 'FDIVP', 'FDIVR', 'FDIVRP',
  'FENI', 'FFREE', 'FIADD', 'FICOM', 'FICOMP', 'FIDIV', 'FIDIVR', 'FILD',
  'FIMUL', 'FINCSTP', 'FINIT', 'FIST', 'FISTP', 'FISUB', 'FISUBR', 'FLD', 'FLD1',
  'FLDCW', 'FLDENV', 'FLDL2E', 'FLDL2T', 'FLDLG2', 'FLDLN2', 'FLDPI',
  'FLDZ', 'FMUL', 'FMULP', 'FNCLEX', 'FNDISI', 'FNENI', 'FNINIT', 'FNOP', 'FNSAVE',
  'FNSTCW', 'FNSTENV', 'FNSTSW', 'FPATAN', 'FPREM', 'FPREM1', 'FPTAN', 'FRNDINT',
  'FRSTOR', 'FSAVE', 'FSCALE', 'FSETPM', 'FSIN', 'FSINCOS', 'FSQRT', 'FST', 'FSTCW',
  'FSTENV', 'FSTP', 'FSTSW', 'FSUB', 'FSUBP', 'FSUBRP', 'FTST', 'FUCOM', 'FUCOMP',
  'FUCOMPP', 'FXAM', 'FXCH', 'FXTRACT', 'FYL2X', 'FYL2XP1',
  'HLT',
  'IDIV', 'IMUL', 'IN', 'INC', 'INT', 'INTO', 'INVD', 'IRET', 'IRETD',
  'JA', 'JAE', 'JB', 'JBE', 'JC', 'JCXZ', 'JE', 'JECXZ', 'JG', 'JGE', 'JL', 'JLE', 'JMP', 'JNA', 'JNAE', 'JNB', 'JNBE', 'JNC', 'JNE', 'JNG', 'JNGE', 'JNL', 'JNLE', 'JNO', 'JNP', 'JNS', 'JO', 'JP', 'JPE', 'JPO', 'JNZ', 'JS', 'JZ',
  'LAHF', 'LAR', 'LDS', 'LEA', 'LES', 'LOCK', 'LODS', 'LODSB', 'LODSW', 'LOOP', 'LOOPE', 'LOOPNE', 'LOOPNZ', 'LOOPZ',x
  'MOV', 'MOVS', 'MOVSB', 'MOVSW', 'MUL',
  'NEG', 'NOP', 'NOT',
  'OR', 'OUT',
  'POP', 'POPF', 'POPFD', 'PUSH', 'PUSHF', 'PUSHFD',
  'RCL', 'RCR', 'REP', 'REPE', 'REPNE', 'REPNZ', 'REPZ', 'RET', 'RETF', 'ROL', 'ROR',
  'SAHF', 'SAL', 'SAR', 'SBB', 'SCAS', 'SCASB', 'SCASW', 'SHL', 'SHR', 'STC', 'STD', 'STI', 'STOS', 'STOSB', 'STOSW', 'SUB',
  'TEST',
  'WAIT', 'WBINVD',
  'XCHG', 'XLAT', 'XLATB', 'XOR',

- 80186 opcodes
  'BOUND',
  'ENTER',
  'INS',
  'LEAVE',
  'OUTS',
  'POPA', 'POPAD', 'PUSHA', 'PUSHAD',

- 80286 opcodes
  'ARPL',
  'CLTS',
  'LGDT', 'LIDT', 'LLDT', 'LMSW', 'LSL', 'LSS',
  'SGDT', 'SIDT', 'SLDT', 'SMSW', 'STR',
  'VERR', 'VERW',

- 80386 opcodes
  'BSF', 'BSR', 'BT', 'BTC', 'BTR', 'BTS',
  'CDQ', 'CWDE',
  'LFS', 'LGS', 'LSS',
  'MOVSX', 'MOVZX',
  'SETAE', 'SETB', 'SETC', 'SETNAE', 'SETNB', 'SETNE', 'SETNZ', 'SETG', 'SETGE', 'SETL', 'SETLE', 'SETNC', 'SETNG', 'SETNGE', 'SETNL', 'SETNLE', 'SETNO', 'SETNP', 'SETNS', 'SETE', 'SETO', 'SETP', 'SETPE', 'SETPO', 'SETS', 'SETZ',
  'SHLD', 'SHRD',

- 80486 opcodes
  'BSWAP',
  'INVPLG',

ADA
+ Embedded SQL (EXEC ;)
+ tokenize EXEC block
+ numeric literals  base#number#  (2#1001# 10#25#)
* more source for ADA-95
* source for ADA-2005
* source for ADA-2012
+ labels enclosed in << >>

Awk

BASIC
- identify line numbers after THEN, GOTO, GOSUB (incuding ON GOTO, ON GOSUB) ON ERROR

BASIC-80 / BASICA / GW-BASIC
- AND, OR, XOR when seen PUT and previous comma is a value, not an operator

C
* C89 source (has void but not bool, // comment)
+ Embedded SQL (EXEC ;)
+ tokenize EXEC block

C++:
+ Embedded SQL (EXEC ;)
+ tokenize EXEC block
+ backslash at end of line as line continuation (unwrap first?)
+ backslash at end of line in #directive continues (unwrap first?)
+ operator ... unary, postfix
+ raw strings R LR u8R uR UR with "abc()abc" with 'abc' as delimiter and paired but not nested () and possible " within () and may have trailing 's' and may contain newline
+ strings prefix u8 L u U
+ allow adjacent string literals

C#:
+ operator ..
+ unary operator ^
* 'calculator1' identifies as C++

CBASIC
+ colon as part of GRAPHIC PRINT statement

COBOL fixed-format
+ tokenize EXEC block
+ unclosed quoted strings on continuation extend to column 72
+ extensions: https://www.ibm.com/support/knowledgecenter/SS6SGM_5.1.0/com.ibm.cobol51.aix.doc/PGandLR/ref/rlext.html
+ 'ON' is a value, a keyword after 'OCCURS DEPENDING', 'SORT file', 'IS id'
- expected keyword confidence assigns value
- paragraph name is a single identifier followed by period

COBOL free-format
- P010-wide fails detect
+ tokenize EXEC block
* more tests from extra
+ Micro-Focus extensions (MF)
* source for COBOL-85, COBOL-74 Acucobol, IBM, GNU, MF extensions
+ keywords for GNU
+ 'ON' is a value, a keyword after 'OCCURS DEPENDING', 'SORT file', 'IS id'
- expected keyword confidence assigns value
- paragraph name is a single identifier followed by period
- block comment *><[ to *><] (OpenCobol)

CoffeeScript
- block comment ### / ###

D
- q {} token string, same as Perl Q string
- end text with 0x00 or 0x1a
- end of line \u2028 or \u2029

Dart

dBase II
- convert function not followed by parens to identifier
- move CTRL-Z to Examiner

dBase III

dBase IV
+ copy of dBase III
+ allow []
+ allow {}
+ keyword WINDOW ??? ACTIVATE MENU POPUP SCREEN ASSIST BEGIN END TRANSACTION BROWSE CALCULATE
+ keyword CANCEL CHANGE FILE INDEXES STRUCTURE EXTENDED MODIFY VIEW DEACTIVATE DEFINE BAR BOX PAD
+ keyword EXPORT FIND LOAD LOGOUT PLAY MACRO PRIVATE PROCEDURE PROTECT PUBLIC READ RECALL
+ keyword REINDEX RENAME REPLACE REPORT RESUME RETRY ROLLBACK RUN SCAN SEEK SHOW SKIP
+ keyword SUSPEND TOTAL TYPE UNLOCK ZAP
+ value null true false t f (no dots) (keep old dot values)
+ operator := . and or not (no dots) (keep old dot operators) ==
+ line comment with //
+ block comment /* */
+ lines start with keyword, assignment lines start with identifier and =
+ ? comments with &&
* more source

Clipper
+ copy of dBase IV

Delphi
- = allows types on rhs
- combine into Pascal examiner

Eiffel

Fortran
+ embedded SQL (EXEC newline)
+ tokenize EXEC block
- -66 HELLO detects as SQL (SQL keywords in FTN comment)
* source for Fortran-2003
- geo4060 detects as haskell

F sharp
* more source

Go
* more source

Haskell

HTML
+ combine adjacent text, whitespace, number, punctuation tokens into text
- faster, simpler checks for attribute

Java

JavaScript
? 'values' detects as F# because single quote string isn't a string in F#

Julia
+ numbers may be followed by identifier
+ 'abstract' and 'primitive' must be followed by 'type' to be keyword
- r'' strings (no escapes)

Kotlin

Lua
+ strings contain any character

Matlab

Modula-2
- copy of Pascal
- keywords in upper case only
- no stuffed quotes
- braces are groupers, not comments
- NIL is a value

Objective-C
- if 'id' is the only thing that pushes code to Objective-C, then discount it

Octave

Pascal
+ Embedded SQL (EXEC ;)
+ tokenize EXEC block
- stuffed quotes
- strings with double quotes (Turbo Pascal?)

Perl 5
- regex sometimes detected as division (grep?)
- s{}{}, tr{}{}, y{}{} allow () and [] ? new classes for {} regexes?
- s{}{} et al do not allow characters between groups
- __END__, __LINE__, __FILE__, __SUB__, __DATA__, __PACKAGE__
- heredoc (details?)
- qr// regex

PL/I
+ Embedded SQL (EXEC ;)
+ tokenize EXEC block
? 'example' has issues (plain text in source)
+ bit string constant is string with suffix B
- use LabelTokenBuilder class

PL/M
+ copy of PL/1
+ drop JCL tokens
+ drop fixed format and use only free format
+ drop operators with bent bar (negation)
+ hex integer suffix H
+ octal integer suffix Q
+ binary integer suffix B
+ decimal integer suffix D
+ real must have digit before decimal, not required after
+ types BYTE WORD DWORD STRUCTURE POINTER OFFSET REAL CHARINT SHORTINT QWORD HWORD INTEGER LONGINT SHORTINT
+ .B (and .W and .D ?)
+ @ unary operator
+ operators NOT AND OR XOR MINUS PLUS
+ operators + - * / MOD
+ operators < <= <> >= >
+ keywords [
  'ADDRESS', 'AT',
  'BASED', 'BY',
  'CALL', 'CASE',
  'DATA', 'DECLARE', 'DISABLE', 'DO',
  'ELSE', 'ENABLE', 'END', 'EOF', 'EXTERNAL',
  'GO', 'GOTO',
  'HALT',
  'IF', 'INITIAL', 'INTERRUPT',
  'LABEL', 'LITERALLY',
  'OFFSET',
  'PROCEDURE', 'PUBLIC',
  'REENTRANT', 'RETURN',
  'SELECTOR', 'STRUCTURE',
  'THEN', 'TO',
  'WHILE'
]
+ common identifiers [
  'ABS', 'ADJUSTRPL',
  'BLOCKINPUT', 'BLOCKINWORD', 'BLOCKOUTPUT', 'BLOCKOUTWORD', 'BUILDPTR',
  'CARRY', 'CAUSEINTERRUPT', 'CLEARTASKSWITCHEDFLAG', 'CONTROLREGISTER',
  'CMPB', 'CMPW',
  'DEC', 'DOUBLE', 'DEBUGREGISTER',
  'FINDB', 'FINDHW', 'FINDRB', 'FINDRHW', 'FINDRW', 'FINDW', 'FIX', 'FLAGS', 'FLOAT',
  'GETACCESSRIGHTS', 'GETREALERROR', 'GETSEGMENTLIMIT',
  'HIGH',
  'IABS', 'INHWORD', 'INITREALMATHUNITSKIPRB', 'INT SIZE', 'INWORD SIZE', 'INPUT',
  'LAST', 'LENGTH', 'LOCALTABLE', 'LOCKSET', 'LOW',
  'MACHINESTATUS', 'MOVB', 'MOVBIT', 'MOVE', 'MOVHW', 'MOVRB', 'MOVRBIT'
  'MOVRHW', 'MOVRW', 'MOVW',
  'NIL',
  'OFFSETOF', 'OUTHWORD', 'OUTPUT', 'OUTWORD',
  'PARITY',
  'RESTOREGLOBALTABLE', 'RESTOREINTERRUPTABLE', 'RESTOREREALSTATUS',
  'ROL', 'ROR',
  'SAL', 'SAR', 'SAVEGLOBALTABLE', 'SAVEINTERRUPTTABLE', 'SAVEREALSTATUS',
  'SCANBIT', 'SCANRBIT', 'SCL', 'SCR', 'SEGMENTREADABLE', 'SEGMENTWRITABLE',
  'SELECTOROF', 'SETB', 'SETHW', 'SETREALMODE', 'SETW', 'SHL', 'SHLD', 'SHR', 'SHRD',
  'SIGN', 'SIGNED', 'SKIPB', 'SKIPHW', 'SKIPRHW', 'SKIPRW', 'SKIPW',
  'STACKBASE', 'STACKPTR',
  'TASKREGISTER', 'TESTREGISTER', 'TIME',
  'UNSIGN',
  'WAITFORINTERRUPT',
  'XLAT',
  'ZERO'
]
[BLOCKINDWORD BLOCKOUTDWORD CMPD FINDD FINDRD INDWORD MOVD MOVRD OUTDWORD SETD SKIPD SKIPRD]
[BYTESWAP TESTREGISTER INVALIDATEDATACACHE WBINVALIDATEDATACACHE INVALIDATETLBENTRY]

Prolog

Python
+ detab code

R
? 'basketball' has issues (no keywords, few tokens)

Raku
- copy of Perl 5
- no undef continue
- repeat loop given when default say try CATCH class has multi
- $!private $.public for class members
- ... ??? !!!
- < > replaces qw{}
- << >>
- no __ keywords
- keywords $?LINE $?FILE $?PACKAGE
- =begin END
- =begin DATA
- no ~= ->
- operator ~~ ~& +& ~| +| +< +<=
- unary operator :
- s/// and m// take parameters in colons before first /
- qr// replaced by rx// or regex{}


Ruby
+ tokenize regex (which may contain #{} expressions, which may contain '/' characters)
+ examiner seems to take a long time - profile it

Rust

Scala
+ XML literals

SQL
+ Drop year distinction and use only plain, Microsoft (T-SQL), Oracle (PL/SQL)
+ quoted strings with square brackets are identifiers (T-SQL only)
* Additional source files (square brackets, stored procedures, T-SQL, PL/SQL)
+ Microsoft: nvarchar bigint datetime datetime2 geography
+ Microsoft: SYSTEM_VERSIONING(2016) HISTORY_TABLE(2016) PAD_INDEX(2008) STATISTICS_NORECOMPUTE(2003) FILLFACTOR(2003) IGNORE_DUP_KEY ALLOW_ROW_LOCKS ALLOW_PAGE_LOCKS TEXTIMAGE_ON
+ Microsoft: CLUSTERED GENERATED ALWAYS SYSTEM_TIME
+ Microsoft: DECLARE SET BEGIN END BREAK CONTINUE GOTO ELSE RETURN WAITFOR BULK TRY(2005) CATCH(2005)

Swift

TypeScript
- 'require' (and maybe 'module') are functions, not keywords
-- or functions when followed by open parens

VB6
- check keywords at start of line or after 'Then' (and maybe ':') (unsplit lines?)
  (begintrans call circle clear close cls committrans compare data declare data defXXX dim else elseif end endif exit for if input input$ let open close pset put read redim rem restore set while wend write)

VB.NET
- 'Then' must be preceded by 'If' or 'ElseIf'

Stats and analysis
+ cyclomatic complexity
+ halstead complexity (can we calc for multiple functions or classes?)
+ boolexity

Multipart documents
+ Service to extract blocks and analyze each one
+ Markdown (text and code blocks)
+ Rmd (text, TeX, R)
+ HTML (JavaScript)
+ JCL with COBOL, FORTRAN, PL/1

Notes
- CodeStat analyzes and detects some languages but not all
- Tokenization is not perfect (C/C++ #define macros not expanded)
- A program that tokenizes may not compile
- A program that compiles may not tokenize
- Language detection is not perfect, especially with small fragments
- COBOL lines that start with '*' are considered comments (not true for later Cobol)
- Tokens in one language that are part of comments in another language can cause detection errors
