[
    {
        "type":"label",
        "value":"SetVSRAMWrite:"
    },
    {
        "type":"whitespace",
        "value":" "
    },
    {
        "type":"preprocessor",
        "value":"macro"
    },
    {
        "type":"whitespace",
        "value":" "
    },
    {
        "type":"identifier",
        "value":"addr"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"move.l"
    },
    {
        "type":"whitespace",
        "value":"  "
    },
    {
        "type":"operator",
        "value":"#"
    },
    {
        "type":"group",
        "value":"("
    },
    {
        "type":"identifier",
        "value":"vdp_cmd_vsram_write"
    },
    {
        "type":"group",
        "value":")"
    },
    {
        "type":"operator",
        "value":"|"
    },
    {
        "type":"group",
        "value":"("
    },
    {
        "type":"group",
        "value":"("
    },
    {
        "type":"invalid operator",
        "value":"\\"
    },
    {
        "type":"identifier",
        "value":"addr"
    },
    {
        "type":"group",
        "value":")"
    },
    {
        "type":"operator",
        "value":"&"
    },
    {
        "type":"number",
        "value":"$3FFF"
    },
    {
        "type":"group",
        "value":")"
    },
    {
        "type":"group",
        "value":"<"
    },
    {
        "type":"group",
        "value":"<"
    },
    {
        "type":"number",
        "value":"16"
    },
    {
        "type":"operator",
        "value":"|"
    },
    {
        "type":"group",
        "value":"("
    },
    {
        "type":"invalid operator",
        "value":"\\"
    },
    {
        "type":"identifier",
        "value":"addr"
    },
    {
        "type":"group",
        "value":")"
    },
    {
        "type":"group",
        "value":">"
    },
    {
        "type":"group",
        "value":">"
    },
    {
        "type":"number",
        "value":"14"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":" "
    },
    {
        "type":"identifier",
        "value":"vdp_control"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"preprocessor",
        "value":"endm"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"comment",
        "value":"; Writes a sprite attribute structure to 4 registers, ready to write to VRAM"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"label",
        "value":"BuildSpriteStructure:"
    },
    {
        "type":"whitespace",
        "value":" "
    },
    {
        "type":"preprocessor",
        "value":"macro"
    },
    {
        "type":"whitespace",
        "value":" "
    },
    {
        "type":"identifier",
        "value":"x_pos"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"comment",
        "value":"; X pos on sprite plane"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"y_pos"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":"\t\t\t\t\t\t\t"
    },
    {
        "type":"comment",
        "value":"; Y pos on sprite plane"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"dimension_bits"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":"\t\t\t\t\t"
    },
    {
        "type":"comment",
        "value":"; Sprite tile dimensions (4 bits)"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"next_id"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":"\t\t\t\t\t\t"
    },
    {
        "type":"comment",
        "value":"; Next sprite index in linked list"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"priority_bit"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":"\t\t\t\t\t"
    },
    {
        "type":"comment",
        "value":"; Draw priority"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"palette_id"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":"\t\t\t\t\t\t"
    },
    {
        "type":"comment",
        "value":"; Palette index"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"flip_x"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":"\t\t\t\t\t\t\t"
    },
    {
        "type":"comment",
        "value":"; Flip horizontally"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"flip_y"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":"\t\t\t\t\t\t\t"
    },
    {
        "type":"comment",
        "value":"; Flip vertically"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"tile_id"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":"\t\t\t\t\t\t"
    },
    {
        "type":"comment",
        "value":"; First tile index"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"reg1"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":"\t\t\t\t\t\t\t"
    },
    {
        "type":"comment",
        "value":"; Output: reg1"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"reg2"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":"\t\t\t\t\t\t\t"
    },
    {
        "type":"comment",
        "value":"; Output: reg2"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"reg3"
    },
    {
        "type":"group",
        "value":","
    },
    {
        "type":"whitespace",
        "value":"\t\t\t\t\t\t\t"
    },
    {
        "type":"comment",
        "value":"; Output: reg3"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"whitespace",
        "value":"\t"
    },
    {
        "type":"identifier",
        "value":"reg4"
    },
    {
        "type":"whitespace",
        "value":"\t\t\t\t\t\t\t"
    },
    {
        "type":"comment",
        "value":"; Output: reg4"
    },
    {
        "type":"newline",
        "value":"\r\n"
    },
    {
        "type":"newline",
        "value":"\r\n"
    }
]
